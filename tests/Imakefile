DEPEND = sh ./depend.sh

# KLEE=/home/lrleon/klee/Release+Asserts/bin
# CLANGCPP=/home/lrleon/LLVM-3.4.2/bin/clang++ -I$(KLEE)/include

CXXPATH=$(shell echo $$CLANGPATH)

#CXX = $(CXXPATH)/bin/clang++  

INCLUDES = -I../include -I$(ALEPHW) 
WARN= -Wall -Wextra -Wcast-align -Wno-sign-compare -Wno-write-strings\
	-Wno-parentheses

OPTFLAGS = -std=c++14 $(WARN) -Ofast -DNDEBUG
FLAGS = -std=c++14 $(WARN) -O0 -g
#FLAGS = -std=c++14 $(WARN) -Ofast -DNDEBUG

OPTIONS = $(FLAGS)
CXXFLAGS= -std=c++14 $(INCLUDES) $(OPTIONS)

SYS_LIBRARIES = -L$(ALEPHW) -lAleph -lnlopt -lstdc++ -lgsl -lgslcblas -lm -lc

DEPLIBS	= $(TOP)/lib/libpvt.a

LOCAL_LIBRARIES = $(TOP)/lib/libpvt.a

TESTSRCS = test-all-units-1.cc test-conversion.cc test-corr.cc test-seq.cc \
	test-biblio.cc test-json.cc test-tuning.cc test-analyse.cc \
	test-empirical-json.cc test-fluid-analysis.cc test-non-lsq.cc \
	test-bob-cal.cc test-boa-cal.cc test-rs-cal.cc

TESTOBJS = $(TESTSRCS:.cc=.o)

SRCS = $(TESTSRCS)

AllTarget(test-conversion)
NormalProgramTarget(test-conversion,test-conversion.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))

AllTarget(test-corr)
NormalProgramTarget(test-corr,test-corr.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))

AllTarget(test-all-units-1)
NormalProgramTarget(test-all-units-1,test-all-units-1.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))

AllTarget(test-seq)
NormalProgramTarget(test-seq,test-seq.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))

AllTarget(test-biblio)
NormalProgramTarget(test-biblio,test-biblio.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))

AllTarget(test-json)
NormalProgramTarget(test-json,test-json.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))

AllTarget(test-tuning)
NormalProgramTarget(test-tuning,test-tuning.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))

AllTarget(test-analyse)
NormalProgramTarget(test-analyse,test-analyse.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))

AllTarget(test-empirical-json)
NormalProgramTarget(test-empirical-json,test-empirical-json.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))

AllTarget(test-non-lsq)
NormalProgramTarget(test-non-lsq,test-non-lsq.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))

AllTarget(test-bob-cal)
NormalProgramTarget(test-bob-cal,test-bob-cal.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))

AllTarget(test-boa-cal)
NormalProgramTarget(test-boa-cal,test-boa-cal.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))

AllTarget(test-rs-cal)
NormalProgramTarget(test-rs-cal,test-rs-cal.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))

DependTarget()
