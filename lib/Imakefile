DEPEND = sh ./depend.sh

ALEPHW = $(shell echo $$ALEPHW)

INCLUDES = -I../include -I$(ALEPHW) 
WARN= -Wall -Wextra -Wcast-align -Wno-sign-compare -Wno-write-strings -Wno-parentheses
FLAGS = -std=c++14 $(WARN) -O0 -g

OPTIONS = $(FLAGS)
CXXFLAGS= -std=c++14 $(INCLUDES) $(OPTIONS)

LIBSRCS = units-vars.cc correlations-vars.cc

SRCS = $(LIBSRCS)
OBJS = pvt.o

EXTRACT_CV = $(TOP)/bin/extract-cv

pvt.cc: units-vars.cc correlations-vars.cc ../include/pvt-correlations.H ../include/correlation.H ../include/bubble-point-pressure.H ../include/units.H ../include/pvt-units.H ../include/solution-gas-oil-relation.H ../include/solution-gas-oil-relation-1.H ../include/solution-gas-oil-relation-1-impl.H ../include/oil-formation-volume-factor.H ../include/oil-formation-volume-factor-impl.H ../include/oil-compressibility.H ../include/oil-compressibility-impl.H ../include/oil-density.H ../include/oil-density-impl.H ../include/dead-oil-viscosity.H ../include/dead-oil-viscosity-impl.H ../include/saturated-oil-viscosity.H ../include/saturated-oil-viscosity-impl.H 
	$(RM) -f $@;					\	@@\
	$(CPP) $(CXXFLAGS) units-vars.cc > $*.tmp;	\	@@\
	cat units-vars.cc > $@;			\	@@\
	$(EXTRACT_CV) $*.tmp >> $@;			\	@@\
	cat correlations-vars.cc >> $@;		\	@@\
	$(RM) $*.tmp

pvt.o: pvt.cc 

clean::
	$(RM) -f pvt.cc

NormalLibraryObjectRule()
NormalLibraryTarget(pvt,$(OBJS))
InstallLibrary(pvt,./)
DependTarget()
